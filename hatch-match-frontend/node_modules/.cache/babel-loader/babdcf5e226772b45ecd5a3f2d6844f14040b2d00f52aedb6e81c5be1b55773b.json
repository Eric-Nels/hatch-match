{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Route,Routes}from\"react-router-dom\";import Navbar from\"./Navbar\";import Home from\"./Home\";import Flies from\"./Flies\";import SuggestionForm from\"./SuggestionForm\";import About from\"./About\";import Header from\"./Header\";import Search from\"./Search\";import'../Styles/app.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[flies,setFlies]=useState([]);const[isOpen,setIsOpen]=useState(false);const[selectedFly,setSelectedFly]=useState([]);const[featuredFlies,setFeaturedFlies]=useState([]);const[searchValue,setSearchValue]=useState('');useEffect(()=>{fetchFliesData();},[]);function fetchFliesData(){fetch('https://ernelson.pythonanywhere.com/api/flies').then(r=>r.json()).then(data=>{setFlies(data);console.log(flies);}).catch(error=>console.error('Error fetching flies:',error));}useEffect(()=>{if(flies.length>0){const selectedFlies=selectThreeRandomFlies();setFeaturedFlies(selectedFlies);}},[flies]);const togglePopup=()=>{setIsOpen(!isOpen);};function selectThreeRandomFlies(){const selectedFlies=[];const availableFlies=[...flies];while(selectedFlies.length<3&&availableFlies.length>0){const randomIndex=Math.floor(Math.random()*availableFlies.length);const randomFly=availableFlies.splice(randomIndex,1)[0];selectedFlies.push(randomFly);}return selectedFlies;}function handleSearchChange(e){setSearchValue(e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Search,{searchValue:searchValue,setSearchValue:setSearchValue,handleSearchChange:handleSearchChange})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/flies\",element:/*#__PURE__*/_jsx(Flies,{flies:flies,isOpen:isOpen,setIsOpen:setIsOpen,selectedFly:selectedFly,setSelectedFly:setSelectedFly,togglePopup:togglePopup,searchValue:searchValue})}),/*#__PURE__*/_jsx(Route,{path:\"/suggestions\",element:/*#__PURE__*/_jsx(SuggestionForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about-us\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{featuredFlies:featuredFlies,isOpen:isOpen,setIsOpen:setIsOpen,selectedFly:selectedFly,setSelectedFly:setSelectedFly,togglePopup:togglePopup})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","Navbar","Home","Flies","SuggestionForm","About","Header","Search","jsx","_jsx","jsxs","_jsxs","App","flies","setFlies","isOpen","setIsOpen","selectedFly","setSelectedFly","featuredFlies","setFeaturedFlies","searchValue","setSearchValue","fetchFliesData","fetch","then","r","json","data","console","log","catch","error","length","selectedFlies","selectThreeRandomFlies","togglePopup","availableFlies","randomIndex","Math","floor","random","randomFly","splice","push","handleSearchChange","e","target","value","className","children","path","element"],"sources":["/home/ericnels/Development/code/hatch-match/hatch-match-frontend/src/Components/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport Flies from \"./Flies\";\nimport SuggestionForm from \"./SuggestionForm\";\nimport About from \"./About\";\nimport Header from \"./Header\";\nimport Search from \"./Search\";\nimport '../Styles/app.css'\n\n\nfunction App() {\n\n    const [flies, setFlies] = useState([])\n    const [isOpen, setIsOpen] = useState(false);\n    const [selectedFly, setSelectedFly] = useState([])\n    const [featuredFlies, setFeaturedFlies] = useState([]);\n    const [searchValue, setSearchValue] = useState('')\n\n    useEffect(()=> {\n        fetchFliesData(); \n    }, []);\n\n    function fetchFliesData() {\n        fetch('https://ernelson.pythonanywhere.com/api/flies')\n            .then((r) => r.json())\n            .then((data) => {\n                setFlies(data);\n                console.log(flies)\n            })\n            .catch((error) => console.error('Error fetching flies:', error));\n    }\n    \n    useEffect(() => {\n        if (flies.length > 0) {\n            const selectedFlies = selectThreeRandomFlies();\n            setFeaturedFlies(selectedFlies);\n        }\n    }, [flies]);\n\n    const togglePopup = () => {\n        setIsOpen(!isOpen);\n      };\n\n    function selectThreeRandomFlies() {\n        const selectedFlies = [];\n        const availableFlies = [...flies];\n\n        while (selectedFlies.length < 3 && availableFlies.length > 0) {\n            const randomIndex = Math.floor(Math.random() * availableFlies.length);\n            const randomFly = availableFlies.splice(randomIndex, 1)[0];\n            selectedFlies.push(randomFly);\n        }\n\n        return selectedFlies;\n    }\n    \n    function handleSearchChange(e) {\n        setSearchValue(e.target.value)\n    }\n\n    return(\n        <div className=\"App\">\n            <Header />\n            <div className=\"navigation-container\"> \n                <Navbar />\n                <Search  searchValue={searchValue} setSearchValue={setSearchValue} handleSearchChange={handleSearchChange}/>\n            </div>\n            <Routes>\n                <Route path=\"/flies\" element={<Flies flies={flies} isOpen={isOpen} setIsOpen={setIsOpen} selectedFly={selectedFly} setSelectedFly={setSelectedFly} togglePopup={togglePopup} searchValue={searchValue}/>} />\n                <Route path=\"/suggestions\" element={<SuggestionForm />} />\n                <Route path=\"/about-us\" element={<About />} />\n                <Route path=\"/\" element={<Home featuredFlies={featuredFlies} isOpen={isOpen} setIsOpen={setIsOpen} selectedFly={selectedFly} setSelectedFly={setSelectedFly} togglePopup={togglePopup}/>} />    \n            </Routes>    \n        </div>\n    )\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}